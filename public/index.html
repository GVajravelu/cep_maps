<!doctype html>

<html lang="en">
  <head>
    <title>CEP Tax Sites</title>
    <meta name="description" content="CEP Tax Sites">
    <meta name="author" content="Gopi Vajravelu">
  
    <!-- Bootstrap -->
    <link href="css/bootstrap-3.2.0-dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/custom.css" rel="stylesheet">
  
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style type="text/css">
      html, body, #map-canvas { height: 100%; margin: 0; padding: 0;}
    </style>
    <!--
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=API_KEY">
    </script>
    -->
    <script type="text/javascript"
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD5kixqKYpROtmFuszOFHyenWCmY0-zyFc">
    </script>
    <script type="text/javascript">
      function addTaxSite(map, latLng, siteTitle, numClients) {
        var marker = new google.maps.Marker({
          position: latLng,
          map: map,
          title: siteTitle
        });
        var infoWindow = new google.maps.InfoWindow({
          content: '<h5>' + siteTitle + '</h5> <p>Number of clients: ' + numClients + '</p>'
        });
        google.maps.event.addListener(marker, 'click', function() {
          infoWindow.open(map,marker);
        });
      }
      function initialize() {
        var latitude = NaN;
        var longitude = NaN;
        var address = '60661';
        var geocoder = new google.maps.Geocoder();
        geocoder.geocode( { 'address': address}, function(results, status) {
          if (status == google.maps.GeocoderStatus.OK) {
            latitude = results[0].geometry.location.lat();
            longitude = results[0].geometry.location.lng();
            //alert('Latitude: ' + latitude.toString() + ' Longitude: ' + longitude.toString());
            var mapOptions = {
                center: { lat: latitude, lng: longitude},
                zoom: 8
              };
            var map = new google.maps.Map(document.getElementById('map-canvas'),
              mapOptions);
            addTaxSite(map,new google.maps.LatLng(41.750761, -87.653492),"Auburn Gresham","1206");
            addTaxSite(map,new google.maps.LatLng(41.811897, -87.707734),"Brighton Park","328");
            addTaxSite(map,new google.maps.LatLng(41.823083, -87.625810),"Bronzeville","1263");
            addTaxSite(map,new google.maps.LatLng(41.854686, -87.714431),"Lawndale","662");
            addTaxSite(map,new google.maps.LatLng(41.886259, -87.626778),"Loop","4036");
            addTaxSite(map,new google.maps.LatLng(41.845863, -87.684122),"Pilsen","1118");
            addTaxSite(map,new google.maps.LatLng(41.964811, -87.658816),"Uptown","3556");
            addTaxSite(map,new google.maps.LatLng(41.758685, -88.317071),"Aurora","902");
            //addTaxSite(map,new google.maps.LatLng(41.750761, -87.653492),"South Suburbs","576");
            addTaxSite(map,new google.maps.LatLng(42.042935, -88.287852),"Elgin","1556");
            addTaxSite(map,new google.maps.LatLng(42.048615, -87.679974),"Evanston","405");
            addTaxSite(map,new google.maps.LatLng(41.533601, -88.097103),"Joliet","648");
            //addTaxSite(map,new google.maps.LatLng(41.750761, -87.653492),"Lake County","740");
            //addTaxSite(map,new google.maps.LatLng(41.750761, -87.653492),"West Chicago","0 (New 2015 site)");
            addTaxSite(map,new google.maps.LatLng(39.788367, -89.646304),"Springfield","888");
          }
          else {
            alert("Geocode was not successful for the following reason: " + status);
          }
        });
      }

      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
  </head>
  <body>
    <div id="map-canvas"></div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
